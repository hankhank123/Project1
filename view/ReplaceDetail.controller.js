/*
 * Copyright (C) 2009-2018 SAP SE or an SAP affiliate company. All rights reserved.
 */
jQuery.sap.require("sap.ca.scfld.md.controller.BaseFullscreenController");sap.ca.scfld.md.controller.BaseFullscreenController.extend("cross.fnd.fiori.inbox.view.ReplaceDetail",{onInit:function(){var m=this.getOwnerComponent();m.getRouter().attachRoutePatternMatched(this.fnHandleNavToTaskUIDetail,this);m.getDataManager().fnShowReleaseLoader(false);},fnHandleNavToTaskUIDetail:function(e){if(e.getParameter("name")==="replace_detail"){this.oEventParameters=e.getParameters().arguments;this.oDataManager=this.getOwnerComponent().getDataManager();this.fnCreateIntentBasedComponent();}},fnCreateIntentBasedComponent:function(){var i=this.getOwnerComponent().getModel("intentModel");var I=i?i.getData():null;var t=this;this.fnDestroyIntentBasedComponent();var n=sap.ushell.Container.getService("CrossApplicationNavigation");var c={onTaskUpdate:jQuery.proxy(t.fnDelegateTaskRefresh,t)};var p=I.params?"?"+t.fnCreateURLParameters(I.params):"";var s=I.params.openMode?I.NavigationIntent+p:I.NavigationIntent;n.createComponentInstance(s,{componentData:c},t.getOwnerComponent()).done(function(C){t.byId("appContent").setComponent(C);}).fail(function(e){jQuery.sap.log.error(e);});},fnCreateURLParameters:function(d){return Object.keys(d).map(function(k){return[k,d[k]].map(encodeURIComponent).join("=");}).join("&");},fnDelegateTaskRefresh:function(){var n=this.oEventParameters;var s=n.SAP__Origin;var i=n.InstanceID;if(n&&s&&i){this.oDataManager.fnUpdateSingleTask(s,i);}},fnDestroyIntentBasedComponent:function(){var i=this.byId("appContent").getComponentInstance();if(i){i.destroy();}}});
