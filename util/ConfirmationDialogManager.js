/*
 * Copyright (C) 2009-2018 SAP SE or an SAP affiliate company. All rights reserved.
 */
sap.ui.define(["sap/ui/base/Object","sap/m/Button","sap/m/Dialog","sap/m/Text","sap/m/TextArea"],function(O,B,D,T,a){"use strict";return{getI18nBundle:function(){return sap.ca.scfld.md.app.Application.getImpl().AppI18nModel.getResourceBundle();},showDecisionDialog:function(d){d=this._initializeDialogSettings(d);var o=this._createConfirmationDialog(d.noteMandatory,d.question,d.title,d.confirmButtonLabel,d.showNote);o.getBeginButton().attachPress(jQuery.proxy(function(e){var n;if(d.showNote){n=sap.ui.getCore().byId('confirmDialogTextarea').getValue();}if(!n){n="";}d.confirmActionHandler(n);e.getSource().getParent().close();},this));o.open();},_initializeDialogSettings:function(d){return jQuery.extend({noteMandatory:false,question:"",title:"",confirmButtonLabel:"",showNote:false,confirmActionHandler:function(){return;}},d);},_createConfirmationDialog:function(n,q,t,b,s){var c;if(s){c=[new T("confirmDialogText",{text:q}),new a("confirmDialogTextarea",{liveChange:function(e){var f=e.getParameter('value');var o=e.getSource().getParent();o.data("note",f);if(n){o.getBeginButton().setEnabled(f.trim().length>0);}},maxLength:10000,width:'100%',placeholder:this.getI18nBundle().getText(n?"XMSG_COMMENT_MANDATORY":"XMSG_COMMENT_OPTIONAL")})];}else{c=[new T("confirmDialogText",{text:q})];}var d=new D({title:t,type:'Message',content:c,beginButton:new B({text:b,tooltip:this.getI18nBundle().getText("submit.request"),enabled:!n}),endButton:new B({text:this.getI18nBundle().getText("XBUT_CANCEL"),tooltip:this.getI18nBundle().getText("cancel.request"),press:function(e){d.close();}}),afterClose:function(e){e.getSource().destroyContent();}});d.addAriaDescribedBy("confirmDialogText");return d;}};},true);
